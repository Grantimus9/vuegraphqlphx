{"version":3,"file":"bundle.umd.js","sources":["graphql.js","utilities.js"],"sourcesContent":["import { getMainDefinition, getFragmentDefinitions, createFragmentMap, shouldInclude, getDirectiveInfoFromField, isField, isInlineFragment, resultKeyNameFromField, argumentsObjectFromField, } from 'apollo-utilities';\nexport function graphql(resolver, document, rootValue, contextValue, variableValues, execOptions) {\n    if (execOptions === void 0) { execOptions = {}; }\n    var mainDefinition = getMainDefinition(document);\n    var fragments = getFragmentDefinitions(document);\n    var fragmentMap = createFragmentMap(fragments);\n    var resultMapper = execOptions.resultMapper;\n    var fragmentMatcher = execOptions.fragmentMatcher || (function () { return true; });\n    var execContext = {\n        fragmentMap: fragmentMap,\n        contextValue: contextValue,\n        variableValues: variableValues,\n        resultMapper: resultMapper,\n        resolver: resolver,\n        fragmentMatcher: fragmentMatcher,\n    };\n    return executeSelectionSet(mainDefinition.selectionSet, rootValue, execContext);\n}\nfunction executeSelectionSet(selectionSet, rootValue, execContext) {\n    var fragmentMap = execContext.fragmentMap, contextValue = execContext.contextValue, variables = execContext.variableValues;\n    var result = {};\n    selectionSet.selections.forEach(function (selection) {\n        if (!shouldInclude(selection, variables)) {\n            return;\n        }\n        if (isField(selection)) {\n            var fieldResult = executeField(selection, rootValue, execContext);\n            var resultFieldKey = resultKeyNameFromField(selection);\n            if (fieldResult !== undefined) {\n                if (result[resultFieldKey] === undefined) {\n                    result[resultFieldKey] = fieldResult;\n                }\n                else {\n                    merge(result[resultFieldKey], fieldResult);\n                }\n            }\n        }\n        else {\n            var fragment = void 0;\n            if (isInlineFragment(selection)) {\n                fragment = selection;\n            }\n            else {\n                fragment = fragmentMap[selection.name.value];\n                if (!fragment) {\n                    throw new Error(\"No fragment named \" + selection.name.value);\n                }\n            }\n            var typeCondition = fragment.typeCondition.name.value;\n            if (execContext.fragmentMatcher(rootValue, typeCondition, contextValue)) {\n                var fragmentResult = executeSelectionSet(fragment.selectionSet, rootValue, execContext);\n                merge(result, fragmentResult);\n            }\n        }\n    });\n    if (execContext.resultMapper) {\n        return execContext.resultMapper(result, rootValue);\n    }\n    return result;\n}\nfunction executeField(field, rootValue, execContext) {\n    var variables = execContext.variableValues, contextValue = execContext.contextValue, resolver = execContext.resolver;\n    var fieldName = field.name.value;\n    var args = argumentsObjectFromField(field, variables);\n    var info = {\n        isLeaf: !field.selectionSet,\n        resultKey: resultKeyNameFromField(field),\n        directives: getDirectiveInfoFromField(field, variables),\n    };\n    var result = resolver(fieldName, rootValue, args, contextValue, info);\n    if (!field.selectionSet) {\n        return result;\n    }\n    if (result == null) {\n        return result;\n    }\n    if (Array.isArray(result)) {\n        return executeSubSelectedArray(field, result, execContext);\n    }\n    return executeSelectionSet(field.selectionSet, result, execContext);\n}\nfunction executeSubSelectedArray(field, result, execContext) {\n    return result.map(function (item) {\n        if (item === null) {\n            return null;\n        }\n        if (Array.isArray(item)) {\n            return executeSubSelectedArray(field, item, execContext);\n        }\n        return executeSelectionSet(field.selectionSet, item, execContext);\n    });\n}\nexport function merge(dest, src) {\n    if (src === null || typeof src !== 'object') {\n        return src;\n    }\n    Object.keys(dest).forEach(function (destKey) {\n        if (src.hasOwnProperty(destKey)) {\n            merge(dest[destKey], src[destKey]);\n        }\n    });\n    Object.keys(src).forEach(function (srcKey) {\n        if (!dest.hasOwnProperty(srcKey)) {\n            dest[srcKey] = src[srcKey];\n        }\n    });\n}\n//# sourceMappingURL=graphql.js.map","import { graphql } from './graphql';\nexport function filter(doc, data) {\n    var resolver = function (fieldName, root, args, context, info) {\n        return root[info.resultKey];\n    };\n    return graphql(resolver, doc, data);\n}\nexport function check(doc, data) {\n    var resolver = function (fieldName, root, args, context, info) {\n        if (!{}.hasOwnProperty.call(root, info.resultKey)) {\n            throw new Error(info.resultKey + \" missing on \" + root);\n        }\n        return root[info.resultKey];\n    };\n    graphql(resolver, doc, data, {}, {}, {\n        fragmentMatcher: function () { return false; },\n    });\n}\nvar ANONYMOUS = '<<anonymous>>';\nfunction PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n}\nPropTypeError.prototype = Error.prototype;\nvar reactPropTypeLocationNames = {\n    prop: 'prop',\n    context: 'context',\n    childContext: 'child context',\n};\nfunction createChainableTypeChecker(validate) {\n    function checkType(isRequired, props, propName, componentName, location, propFullName) {\n        componentName = componentName || ANONYMOUS;\n        propFullName = propFullName || propName;\n        if (props[propName] == null) {\n            var locationName = reactPropTypeLocationNames[location];\n            if (isRequired) {\n                if (props[propName] === null) {\n                    return new PropTypeError(\"The \" + locationName + \" `\" + propFullName + \"` is marked as required \" +\n                        (\"in `\" + componentName + \"`, but its value is `null`.\"));\n                }\n                return new PropTypeError(\"The \" + locationName + \" `\" + propFullName + \"` is marked as required in \" +\n                    (\"`\" + componentName + \"`, but its value is `undefined`.\"));\n            }\n            return null;\n        }\n        else {\n            return validate(props, propName, componentName, location, propFullName);\n        }\n    }\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n}\nexport function propType(doc) {\n    return createChainableTypeChecker(function (props, propName) {\n        var prop = props[propName];\n        try {\n            check(doc, prop);\n            return null;\n        }\n        catch (e) {\n            return e;\n        }\n    });\n}\n//# sourceMappingURL=utilities.js.map"],"names":["graphql","getMainDefinition","getFragmentDefinitions","createFragmentMap","shouldInclude","isField","resultKeyNameFromField","isInlineFragment","argumentsObjectFromField","getDirectiveInfoFromField"],"mappings":"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"}